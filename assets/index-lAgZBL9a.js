import{a as K}from"./index-Dq7h7Pqt.js";import{g as fe,p as ve,u as me,v as I,r as w,s as xe,W as ge,Q as te,R as b,S as ye,e as he,j as Ve,l as g,f as s,F as M,k as T,w as Q,a8 as Ce,h as we,y as H,P as be,V as ke,C as _e,D as Pe,E as pe,G as x,H as v,a4 as U,L as i,K as Fe,a9 as Ie,N as W,M as q}from"./index-jgfYoVl5.js";import{I as J,e as Me,g as X,k as Se,f as Ee,l as Re,j as Ne,H as ze,V as Be,r as Y,U as Z}from"./VLabel-Dxx44wzY.js";import{V as ee,a as Ae,m as Te,u as He}from"./autofocus-KtJecxx8.js";const Ue=ve({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ee(),...Te()},"VTextarea"),De=fe()({name:"VTextarea",directives:{vIntersect:J},inheritAttrs:!1,props:Ue(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,S){let{attrs:y,emit:t,slots:l}=S;const o=me(e,"modelValue"),{isFocused:m,focus:E,blur:r}=Me(e),{onIntersect:n}=He(e),R=I(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),ae=I(()=>{if(y.maxlength)return y.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),D=w(),k=w(),G=xe(""),_=w(),oe=I(()=>e.persistentPlaceholder||m.value||e.active);function N(){var a;_.value!==document.activeElement&&((a=_.value)==null||a.focus()),m.value||E()}function ne(a){N(),t("click:control",a)}function le(a){t("mousedown:control",a)}function ie(a){a.stopPropagation(),N(),H(()=>{o.value="",_e(e["onClick:clear"],a)})}function se(a){var d;const u=a.target;if(o.value=u.value,(d=e.modelModifiers)!=null&&d.trim){const C=[u.selectionStart,u.selectionEnd];H(()=>{u.selectionStart=C[0],u.selectionEnd=C[1]})}}const h=w(),P=w(Number(e.rows)),z=I(()=>["plain","underlined"].includes(e.variant));ge(()=>{e.autoGrow||(P.value=Number(e.rows))});function V(){e.autoGrow&&H(()=>{if(!h.value||!k.value)return;const a=getComputedStyle(h.value),u=getComputedStyle(k.value.$el),d=parseFloat(a.getPropertyValue("--v-field-padding-top"))+parseFloat(a.getPropertyValue("--v-input-padding-top"))+parseFloat(a.getPropertyValue("--v-field-padding-bottom")),C=h.value.scrollHeight,p=parseFloat(a.lineHeight),B=Math.max(parseFloat(e.rows)*p+d,parseFloat(u.getPropertyValue("--v-input-control-height"))),A=parseFloat(e.maxRows)*p+d||1/0,f=ke(C??0,B,A);P.value=Math.floor((f-d)/p),G.value=be(f)})}te(V),b(o,V),b(()=>e.rows,V),b(()=>e.maxRows,V),b(()=>e.density,V);let c;return b(h,a=>{a?(c=new ResizeObserver(V),c.observe(h.value)):c==null||c.disconnect()}),ye(()=>{c==null||c.disconnect()}),he(()=>{const a=!!(l.counter||e.counter||e.counterValue),u=!!(a||l.details),[d,C]=Ve(y),{modelValue:p,...B}=X.filterProps(e),A=ee.filterProps(e);return g(X,T({ref:D,modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":z.value},e.class],style:e.style},d,B,{centerAffix:P.value===1&&!z.value,focused:m.value}),{...l,default:f=>{let{id:F,isDisabled:L,isDirty:O,isReadonly:ue,isValid:re}=f;return g(ee,T({ref:k,style:{"--v-textarea-control-height":G.value},onClick:ne,onMousedown:le,"onClick:clear":ie,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},A,{id:F.value,active:oe.value||O.value,centerAffix:P.value===1&&!z.value,dirty:O.value||e.dirty,disabled:L.value,focused:m.value,error:re.value===!1}),{...l,default:ce=>{let{props:{class:j,...$}}=ce;return s(M,null,[e.prefix&&s("span",{class:"v-text-field__prefix"},[e.prefix]),Q(s("textarea",T({ref:_,class:j,value:o.value,onInput:se,autofocus:e.autofocus,readonly:ue.value,disabled:L.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:N,onBlur:r},$,C),null),[[J,{handler:n},null,{once:!0}]]),e.autoGrow&&Q(s("textarea",{class:we([j,"v-textarea__sizer"]),id:`${$.id}-sizer`,"onUpdate:modelValue":de=>o.value=de,ref:h,readonly:!0,"aria-hidden":"true"},null),[[Ce,o.value]]),e.suffix&&s("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:u?f=>{var F;return s(M,null,[(F=l.details)==null?void 0:F.call(l,f),a&&s(M,null,[s("span",null,null),g(Ae,{active:e.persistentCounter||m.value,value:R.value,max:ae.value,disabled:e.disabled},l.counter)])])}:void 0})}),Se({},D,k,_)}}),Ge={class:"about"},Le={key:0,class:"d-flex justify-center"},Oe={key:0,class:"text-field"},je={key:1},$e={key:2,class:"actions"},Ke={key:1,class:"buttons"},Xe=Pe({__name:"index",setup(e){const S=Re(),{isAdminMode:y}=pe(S),t=w({about:"",aboutCopy:"",isEditMode:!1,isLoading:!1});async function l(){try{t.value.isLoading=!0;const r=await K.get(Z);t.value.about=r.data.text,t.value.aboutCopy=t.value.about,t.value.isLoading=!1}catch(r){console.log("error on fetch about data:",r),t.value.isLoading=!1}}function o(){t.value.isEditMode=!0}function m(){t.value.isEditMode=!1,t.value.about=t.value.aboutCopy}function E(){K.put(Z,{text:t.value.about}).then(()=>{t.value.isEditMode=!1,l()}).catch(r=>{console.error("Error saving about data:",r)})}return te(()=>{l()}),(r,n)=>(v(),x("div",Ge,[n[3]||(n[3]=s("p",{class:"intro"}," Salutare È™i bine te-am gÄƒsit ðŸ‘‹ ",-1)),i(t).isLoading?(v(),x("div",Le,[g(Ne,{indeterminate:"",size:"48",width:"4"})])):(v(),x(M,{key:1},[i(y)&&i(t).isEditMode?(v(),x("div",Oe,[g(De,{modelValue:i(t).about,"onUpdate:modelValue":n[0]||(n[0]=R=>i(t).about=R)},null,8,["modelValue"])])):(v(),x("div",je,Fe(i(t).about),1))],64)),i(y)?(v(),x("div",$e,[i(t).isEditMode?U("",!0):(v(),Ie(Be,{key:0,class:"edit-icon",icon:i(ze),small:"",onClick:o},null,8,["icon"])),i(t).isEditMode?(v(),x("div",Ke,[g(Y,{color:"grey",onClick:m},{default:W(()=>n[1]||(n[1]=[q(" AnuleazÄƒ ")])),_:1,__:[1]}),g(Y,{color:"success",onClick:E},{default:W(()=>n[2]||(n[2]=[q(" SalveazÄƒ ")])),_:1,__:[2]})])):U("",!0)])):U("",!0),n[4]||(n[4]=s("p",null," Pentru orice nelamurire, informatie sau chiar o discutie de consultanta, pentru a identifica nevoia dumneavoastra, nu ezita sÄƒ ne contactezi fie telefonic, fie la adresa de email sau pe platformele de socializare. ",-1))]))}});export{Xe as default};
