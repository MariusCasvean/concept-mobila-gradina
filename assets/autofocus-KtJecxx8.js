import{g as D,p as M,t as y,e as E,l as n,w as Q,aa as Z,f as l,n as B,h as S,a as N,m as re,ab as $,I as T,Z as de,Y as ue,b as ce,v as m,r as A,R as ve,P as fe,F as ge,k as be}from"./index-jgfYoVl5.js";import{M as me,J as ye,K as Ce,a as he,z as Ie,N as ke,O as _e,d as Ve,e as xe,Q as Pe,v as Fe,c as Be,b as Se,S as we,T as Le,W as Re,L as $e,h as Te,X as Ae}from"./VLabel-Dxx44wzY.js";const De=M({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...N(),...ye({transition:{component:Ce}})},"VCounter"),We=D()({name:"VCounter",functional:!0,props:De(),setup(e,d){let{slots:i}=d;const f=y(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return E(()=>n(me,{transition:e.transition},{default:()=>[Q(l("div",{class:S(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:B(e.style)},[i.default?i.default({counter:f.value,max:e.max,value:e.value}):f.value]),[[Z,e.active]])]})),{}}}),Me=M({floating:Boolean,...N()},"VFieldLabel"),F=D()({name:"VFieldLabel",props:Me(),setup(e,d){let{slots:i}=d;return E(()=>n(he,{class:S(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:B(e.style),"aria-hidden":e.floating||void 0},i)),{}}}),Ee=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ne=M({appendInnerIcon:T,bgColor:String,clearable:Boolean,clearIcon:{type:T,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:T,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Ee.includes(e)},"onClick:clear":$(),"onClick:appendInner":$(),"onClick:prependInner":$(),...N(),...ke(),...Ie(),...re()},"VField"),Ue=D()({name:"VField",inheritAttrs:!1,props:{id:String,..._e(),...Ne()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,d){let{attrs:i,emit:f,slots:a}=d;const{themeClasses:C}=de(e),{loaderClasses:j}=Ve(e),{focusClasses:G,isFocused:w,focus:h,blur:I}=xe(e),{InputIcon:L}=Pe(e),{roundedClasses:H}=Fe(e),{rtlClasses:p}=ue(),k=y(()=>e.dirty||e.active),z=y(()=>!!(e.label||a.label)),_=y(()=>!e.singleLine&&z.value),ee=ce(),s=m(()=>e.id||`input-${ee}`),O=y(()=>`${s.value}-messages`),W=A(),V=A(),U=A(),X=m(()=>["plain","underlined"].includes(e.variant)),Y=m(()=>e.error||e.disabled?void 0:k.value&&w.value?e.color:e.baseColor),R=m(()=>{if(!(!e.iconColor||e.glow&&!w.value))return e.iconColor===!0?Y.value:e.iconColor}),{backgroundColorClasses:ae,backgroundColorStyles:le}=Be(()=>e.bgColor),{textColorClasses:q,textColorStyles:J}=Se(Y);ve(k,v=>{if(_.value){const r=W.value.$el,u=V.value.$el;requestAnimationFrame(()=>{const c=we(r),t=u.getBoundingClientRect(),x=t.x-c.x,P=t.y-c.y-(c.height/2-t.height/2),b=t.width/.75,o=Math.abs(b-c.width)>1?{maxWidth:fe(b)}:void 0,te=getComputedStyle(r),K=getComputedStyle(u),oe=parseFloat(te.transitionDuration)*1e3||150,ie=parseFloat(K.getPropertyValue("--v-field-label-scale")),se=K.getPropertyValue("color");r.style.visibility="visible",u.style.visibility="hidden",Le(r,{transform:`translate(${x}px, ${P}px) scale(${ie})`,color:se,...o},{duration:oe,easing:Re,direction:v?"normal":"reverse"}).finished.then(()=>{r.style.removeProperty("visibility"),u.style.removeProperty("visibility")})})}},{flush:"post"});const g=m(()=>({isActive:k,isFocused:w,controlRef:U,blur:I,focus:h}));function ne(v){v.target!==document.activeElement&&v.preventDefault()}return E(()=>{var x,P,b;const v=e.variant==="outlined",r=!!(a["prepend-inner"]||e.prependInnerIcon),u=!!(e.clearable||a.clear)&&!e.disabled,c=!!(a["append-inner"]||e.appendInnerIcon||u),t=()=>a.label?a.label({...g.value,label:e.label,props:{for:s.value}}):e.label;return l("div",be({class:["v-field",{"v-field--active":k.value,"v-field--appended":c,"v-field--center-affix":e.centerAffix??!X.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":r,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!t(),[`v-field--variant-${e.variant}`]:!0},C.value,ae.value,G.value,j.value,H.value,p.value,e.class],style:[le.value,e.style],onClick:ne},i),[l("div",{class:"v-field__overlay"},null),n($e,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:a.loader}),r&&l("div",{key:"prepend",class:"v-field__prepend-inner",onMousedown:o=>{o.preventDefault(),o.stopPropagation()}},[e.prependInnerIcon&&n(L,{key:"prepend-icon",name:"prependInner",color:R.value},null),(x=a["prepend-inner"])==null?void 0:x.call(a,g.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&_.value&&n(F,{key:"floating-label",ref:V,class:S([q.value]),floating:!0,for:s.value,style:B(J.value)},{default:()=>[t()]}),z.value&&n(F,{key:"label",ref:W,for:s.value},{default:()=>[t()]}),((P=a.default)==null?void 0:P.call(a,{...g.value,props:{id:s.value,class:"v-field__input","aria-describedby":O.value},focus:h,blur:I}))??l("div",{id:s.value,class:"v-field__input","aria-describedby":O.value},null)]),u&&n(Ae,{key:"clear"},{default:()=>[Q(l("div",{class:"v-field__clearable",onMousedown:o=>{o.preventDefault(),o.stopPropagation()}},[n(Te,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[a.clear?a.clear({...g.value,props:{onFocus:h,onBlur:I,onClick:e["onClick:clear"],tabindex:-1}}):n(L,{name:"clear",onFocus:h,onBlur:I,tabindex:-1},null)]})]),[[Z,e.dirty]])]}),c&&l("div",{key:"append",class:"v-field__append-inner",onMousedown:o=>{o.preventDefault(),o.stopPropagation()}},[(b=a["append-inner"])==null?void 0:b.call(a,g.value),e.appendInnerIcon&&n(L,{key:"append-icon",name:"appendInner",color:R.value},null)]),l("div",{class:S(["v-field__outline",q.value]),style:B(J.value)},[v&&l(ge,null,[l("div",{class:"v-field__outline__start"},null),_.value&&l("div",{class:"v-field__outline__notch"},[n(F,{ref:V,floating:!0,for:s.value},{default:()=>[t()]})]),l("div",{class:"v-field__outline__end"},null)]),X.value&&_.value&&n(F,{ref:V,floating:!0,for:s.value},{default:()=>[t()]})])])}),{controlRef:U,fieldIconColor:R}}});function Xe(e){function d(i,f){var a,C;!e.autofocus||!i||(C=(a=f[0].target)==null?void 0:a.focus)==null||C.call(a)}return{onIntersect:d}}export{Ue as V,We as a,Ne as m,Xe as u};
